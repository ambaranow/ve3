<div class="trim">
  <app-keyframes-line
    *ngIf="keyFrames.length"
    [keyFrames]="keyFrames"></app-keyframes-line>

  <div class="trim-shadow trim-shadow__min" [ngStyle]="{width: shadowSize('min')}"></div>
  <div class="trim-shadow trim-shadow__max" [ngStyle]="{width: shadowSize('max')}"></div>

  <mat-slider
    class="trim-min"
    *ngIf="fileInfo.durationMs && keyFrames.length"
    thumbLabel="true"
    min="0"
    [max]="fileInfo.durationMs"
    [step]="1"
    [(ngModel)]="trim.min"
    (input)="setRange($event, 'min', 'input')"
    (change)="setRange($event, 'min', 'change')"
    [displayWith]="helpersService.ms2TimeStringNoMs"
    [value]="trim.min"
    ></mat-slider>
  <mat-slider
    class="trim-max"
    *ngIf="fileInfo.durationMs && keyFrames.length"
    thumbLabel="true"
    min="0"
    [max]="fileInfo.durationMs"
    [step]="1"
    [(ngModel)]="trim.max"
    (input)="setRange($event, 'max', 'input')"
    (change)="setRange($event, 'max', 'change')"
    [displayWith]="helpersService.ms2TimeStringNoMs"
    [value]="fileInfo.durationMs"
    ></mat-slider>
</div>
<div class="trim-actions" *ngIf="fileInfo.durationMs && keyFrames.length">
  <div class="trim-actions__left"></div>
  <div class="trim-actions__main">
    <button mat-flat-button color="accent" (click)="actionTrim($event)" *ngIf="trim.max < fileInfo.durationMs || trim.min > 0">Trim</button>
  </div>
  <div class="trim-actions__right"></div>
</div>
